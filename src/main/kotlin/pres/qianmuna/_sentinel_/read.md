

# spring cloud 

    限流神器 sentinel

    ## cloud2 生态
    ## 生态 链路
    ## sentinel 链路 设计
    ## 限流设计


## 发展 历程
    
    业务发展

>单体架构
    
    开发简单 
    部署 成本低
    
    一个人 干全套 - -！
    
        
    支撑 业务能力弱
    整体 在一台服务上
    
    
> 水平架构拆分

    controller
    service
    dao
    
    // 拆分

    SOA 面向服务架构
    
    
> 微服务架构

    垂直差分
    //
    
    docker k8s
    云原生 架构（云服务） // 云上
    
    
    
> 服务网格

    （服务本身） // 业务
    （服务治理）
        服务注册 服务容错 配置中心

> 中台架构

    大中台
    小前台
    
        业务中台
        技术中台
        数据中台
        
        按照业务沉淀
        

##  架构要合适

    架构 随着成本 增加 ~
    
    
    
    负载均衡 / 高可用 / nginx / 心跳检测 / ip 漂移
    
    
    
    
## 限流算法

>滑动窗口    
    
>计数器固定窗口
    
    
>桶算法 （hot）
  
        限制 出口 速度
        队列 排队
        多了就丢掉


    
 >令牌算法 （hot）
    
    限制入口流量
    突发流量处理
    先取号，然后根据号 消费
    // 
    生成 号 - -！ ReteLimiter (Guava)
    
    
    
## spi 机制 (service provider interface)

    扩展机制
    
    

        
    
    
    
    